
<section data-ng-controller="TicketsController">
	<div class="container">
		<center><h1 data-ng-mode="dia" id="dia" data-ng-bind="dia  | date:'medium'">Mostrar Dia y fecha en el que se esta trabajando...</h1></center>

		<div class="row">
			<div class="col-md-9">
				<form data-ng-submit="create()" data-ng-init="find()" novalidate> 
				<table  class="table table-striped table-condensed" WIDTH="60%" >
					<thead>
					<tr>
						<th><a href="" ng-click="ordenarPor('#')">#</a></th>
						<th>ID Ticket</th>
						<th>Time</th>
						<th><a href="" ng-click="ordenarPor('Type')">Type</a></th>
						<th>Send To</th>
						<th>&nbsp;</th>
					</tr>

				   	</thead>
					<tbody>
				    	<tr >
					    	<td><input type="text" disabled="true" placeholder=" #  {{tickets.length+1}}" >
					    	
					    	</td>
					    	<td><input type="text" data-ng-model="ticketId"  id="ticketId" placeholder="ticketId" ></td>
					    	<td><input type="text" data-ng-model="tiempo" id="segundos" placeholder="tiempo"></td>
					    	<td>
					    		<select name="tipo" data-ng-model="tipo" >
								   <option value="Tipo">Tipo</option>
									<option value="create">create</option>
									<option value="fix">fix</option>
									<option value="heald">Heald</option>
							    </select>
							 </td>
							  <td>
							  	<select name="sendto" data-ng-model="sendto" >
								   <option value="Sendto">Sendto</option>
								   <option value="Verificar">Verificar</option>
									<option value="TechImpt">TechImp</option>
									<option value="NonTect">NonTect</option>
									<option value="AggOpps">AggOpps</option>
							    </select>
							  </td>
							  <td><input class="btn btn-primary" data-ng-click="addContact()"type="submit" value="Ingresar"> </td>
					    	<td></td>
					    	<td>&nbsp;</td>

				    	</tr>
						<tr ng-repeat="ticket in tickets | filter:diaActual"  style="background-color:{{$even?'white':'white'}}"  ng-init="sumatime=0;">
							<td width="50" height="10">{{$index+1}}</td>
							<td width="50" height="10"><a href="https://aggcentral.indeed.com/display/?type=feed&id={{ticket.ticketId}}">{{ticket.ticketId}}</a></td>
							<td width="50" height="10" ng-init="$parent.sumatime = $parent.sumatime + ticket.tiempo">{{ticket.tiempo}}</td>
							<td width="50" height="10">{{ticket.tipo}}</td>
							<td width="50" height="10">{{ticket.sendto}}</td>
							<td width="50" height="10"><a class="btn btn-success" type="button" data-ng-href="#!/tickets/{{ticket._id}}">Action</a>
							</td>
						</tr>
					</tbody>
				</table>
				 
				<!--El elemento mensaje error-->	
					<div data-ng-show="error">
						<strong data-ng-bind="error"></strong>
					</div>

				</form>
			</div>
			<div class="col-md-3">
				<form name="myForm">
						<div class="form-group">
							<label>Tiempo Registrado</label>
								<input type="text" class="form-control input-lg text-center" data-ng-model="sumatiempo"  >{{sumatotal=sumatiempo||sumatime}}
								<br>
						</div>
							<!-- Acciones que podemos realizar en el formulario -->
						<button type="submit" class="btn btn-success btn-lg" ng-click="sumaTiempo()" ng-disabled="myForm.$invalid || selected">Sumar</button>
				</form>
				<table>
				    <thead>
						<tr>
							<th>&nbsp;</th>
							<th>Create</th>
							<th>heald</th>
							<th>fix</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td width="50" height="10"><b>#</b></td>
							<td width="50" height="10">Cant #</td>
							<td width="50" height="10">Cant #</td>
							<td width="50" height="10">Cant #</td>
						</tr>
						<tr>
							<td width="50" height="10"><b># min</b></td>
							<td width="50" height="10">promed %</td>
							<td width="50" height="10">promed %</td>
							<td width="50" height="10" data-ng-mode="diaActual" id="diaActual">{{diaActual}}</td>
						</tr>
					</tbody>
				</table>
				<table WIDTH="40%">
				    <thead>
						<tr>
							<th>Tckt Crdo</th>
							<th>Fech Act</th>
							<th>Fech Fix</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="ticket in tickets | filter:hoy" style="background-color:{{$even?'white':'white'}}">
							<td width="50" height="10">Posted by @{{ticket.creado}}===</td>
							<td width="50" height="10">== {{hoy}} == </td>
							<td width="50" height="10"><small class="pull-right">{{ticket.creado|date:"h:mma 'on' MMM d, y"}}</small></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

	</div>

</section>

